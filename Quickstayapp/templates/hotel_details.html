{% extends "utils/base.html" %}

{% block start %}
<div class="container mt-5">

  <div class="card-body">
    <h3 class="card-title fw-bold">{{ hotel.hotel_name }}</h3>

    <p class="mt-2">
      Price: <span class="badge bg-danger">₹{{ hotel.hotel_price }}</span>
      Offer Price: <span class="badge bg-success">₹{{ hotel.hotel_offer_price }}</span>
    </p>
    <hr>

    <p><i class="bi bi-geo-alt-fill"></i> {{ hotel.hotel_location }}</p>

    <div class="mb-3">
  {% for amenity in hotel.ameneties.all %}
    <span class="badge bg-info text-dark">{{ amenity.name }}</span>
  {% endfor %}
</div>

    <p class="mt-4">{{ hotel.hotel_description|safe }}</p>

    <!-- Hotel Images -->
    <div class="row mb-4">
      {% for image in hotel.hotel_images.all %}
      <div class="col-6 col-md-3 col-lg-2 mb-3">
        <img src="{{ image.image.url }}" class="img-fluid rounded" style="height: 150px; object-fit: cover;">
      </div>
      {% empty %}
      <p>No images available.</p>
      {% endfor %}
    </div>

    <!-- Booking Form -->
    {% if request.user.is_authenticated %}
      {% include "utils/alerts.html" %}

      <form method="POST">
        {% csrf_token %}
        <div class="mb-3">
          <label for="start_date" class="form-label">Start Date</label>
          <input type="date" name="start_date" id="start_date" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="end_date" class="form-label">End Date</label>
          <input type="date" name="end_date" id="end_date" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-danger mt-3">Book Now</button>
      </form>
    {% else %}
      <a href="{% url 'login' %}" class="btn btn-success">Login to Book</a>
    {% endif %}

  </div>
</div>
{% endblock %}
